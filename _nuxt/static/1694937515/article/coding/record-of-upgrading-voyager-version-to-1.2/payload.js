__NUXT_JSONP__("/article/coding/record-of-upgrading-voyager-version-to-1.2", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at){return {data:[{page:{slug:"record-of-upgrading-voyager-version-to-1.2",description:"公司舊專案因資安問題需要做升級，有個專案使用 Voyager 1.1 版本，我需要一路往上升上去",category:"coding",title:"Voyager 升至 1.2 踩坑紀錄",createdAt:V,updatedAt:V,toc:[{id:W,depth:n,text:X},{id:Y,depth:n,text:Z},{id:_,depth:n,text:$},{id:aa,depth:n,text:ab},{id:ac,depth:n,text:ad},{id:ae,depth:n,text:af},{id:ag,depth:n,text:ah},{id:ai,depth:n,text:aj},{id:ak,depth:n,text:al}],body:{type:"root",children:[{type:b,tag:v,props:{},children:[{type:a,value:"公司舊專案因資安問題需要做升級，有個專案使用 Voyager 1.1 版本，我需要一路往上升上去，照著官方文件的步驟升級結果才升到 1.2，系統就各種噴錯，都是文件根本沒有提到的升版注意事項，本來我懶惰想直接丟這些錯誤訊息給谷歌大神，結果幾乎沒有相關說明，無奈之下本宮只好翻底層程式碼一個一個抓問題了，以下稍微紀錄一下要調整的部分:"}]},{type:a,value:e},{type:b,tag:o,props:{id:W},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#1-%E6%94%B9%E7%94%A8-voyager-%E6%8F%90%E4%BE%9B%E4%BB%8B%E9%9D%A2%E6%9B%BF%E4%BB%A3",tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:X}]},{type:a,value:e},{type:b,tag:v,props:{},children:[{type:a,value:"已不支援 "},{type:b,tag:k,props:{},children:[{type:a,value:"TCG\\Voyager\\Voyager::can()"}]},{type:a,value:am},{type:b,tag:k,props:{},children:[{type:a,value:"TCG\\Voyager\\Voyager::canOrAbort()"}]},{type:a,value:am},{type:b,tag:k,props:{},children:[{type:a,value:"TCG\\Voyager\\Voyager::canOrFail()"}]},{type:a,value:" 相關語法，改用 "},{type:b,tag:k,props:{},children:[{type:a,value:"Auth::user()-\u003EhasPermission()"}]}]},{type:a,value:e},{type:b,tag:u,props:{src:"articles\u002Frecord-of-upgrading-voyager-version-to-1.2-1.jpg"},children:[{type:a,value:e}]},{type:a,value:e},{type:b,tag:o,props:{id:Y},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#2-%E5%8E%9F%E6%96%B9%E6%B3%95%E5%B7%B2%E8%A2%AB%E6%94%B9%E5%AF%AB%E4%B8%8D%E4%BD%BF%E7%94%A8",tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:Z}]},{type:a,value:e},{type:b,tag:u,props:{src:"articles\u002Frecord-of-upgrading-voyager-version-to-1.2-2.jpg"},children:[{type:a,value:e}]},{type:a,value:e},{type:b,tag:o,props:{id:_},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#3-%E8%87%AA%E8%A1%8C%E8%A4%87%E8%A3%BD-voyager-%E5%90%8C%E6%AA%94%E5%90%8D%E6%AA%94%E6%A1%88",tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:$}]},{type:a,value:e},{type:b,tag:u,props:{src:"articles\u002Frecord-of-upgrading-voyager-version-to-1.2-3.jpg"},children:[{type:a,value:e}]},{type:a,value:e},{type:b,tag:o,props:{id:aa},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#4-media-page-%E5%85%A7%E5%AE%B9%E7%84%A1%E6%B3%95%E9%A1%AF%E7%A4%BA",tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:ab}]},{type:a,value:e},{type:b,tag:v,props:{},children:[{type:a,value:"在以下各檔案做調整:"}]},{type:a,value:e},{type:b,tag:D,props:{className:[K]},children:[{type:b,tag:L,props:{className:[M,N]},children:[{type:b,tag:k,props:{},children:[{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:"\u002F\u002F config\u002Ffilesystems.php "}]},{type:a,value:O},{type:b,tag:c,props:{className:[d,P]},children:[{type:a,value:an}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:y}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,i,j]},children:[{type:a,value:"'disks'"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:m}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:y}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,i,j]},children:[{type:a,value:ao}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:m}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:y}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,i,j]},children:[{type:a,value:"'driver'"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:m}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,i,j]},children:[{type:a,value:"'local'"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,i,j]},children:[{type:a,value:"'root'"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:m}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,Q]},children:[{type:a,value:"public_path"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,i,j]},children:[{type:a,value:ap}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:G}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,i,j]},children:[{type:a,value:"'url'"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:m}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,Q]},children:[{type:a,value:"env"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,i,j]},children:[{type:a,value:"'APP_URL'"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:G}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"."}]},{type:b,tag:c,props:{className:[d,i,j]},children:[{type:a,value:"'\u002Fstorage'"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,i,j]},children:[{type:a,value:"'visibility'"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:m}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,i,j]},children:[{type:a,value:"'public'"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aq}]},{type:a,value:O},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:"\u002F\u002F config\u002Fvoyager.php"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,P]},children:[{type:a,value:an}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:y}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:R}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,i,j]},children:[{type:a,value:ap}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:m}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:y}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,i,j]},children:[{type:a,value:"'disk'"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:m}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,i,j]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,i,j]},children:[{type:a,value:"'media'"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:m}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:y}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:R}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,i,j]},children:[{type:a,value:"'path'"}]},{type:a,value:"                "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:m}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,i,j]},children:[{type:a,value:"''"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aq}]},{type:a,value:O},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:"\u002F\u002F resources\u002Fviews\u002Fvendor\u002Fvoyager\u002Fmaster.blade.php"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:B}]},{type:a,value:"meta name"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:H}]},{type:b,tag:c,props:{className:[d,i,I]},children:[{type:a,value:"\"assets-path\""}]},{type:a,value:" content"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:H}]},{type:b,tag:c,props:{className:[d,i,I]},children:[{type:a,value:"\"{{ route('voyager.voyager_assets') }}\""}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:R}]},{type:a,value:"\n@"},{type:b,tag:c,props:{className:[d,P]},children:[{type:a,value:"include"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,i,j]},children:[{type:a,value:"'voyager::media.manager'"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:G}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:u,props:{src:"articles\u002Frecord-of-upgrading-voyager-version-to-1.2-4.jpg"},children:[{type:a,value:e}]},{type:a,value:e},{type:b,tag:o,props:{id:ac},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#5-%E5%A5%97%E4%BB%B6%E5%B7%B2%E8%87%AA%E8%A1%8C%E8%99%95%E7%90%86-json_decode",tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:ad}]},{type:a,value:e},{type:b,tag:u,props:{src:"articles\u002Frecord-of-upgrading-voyager-version-to-1.2-5.jpg"},children:[{type:a,value:e}]},{type:a,value:e},{type:b,tag:o,props:{id:ae},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#6-%E5%81%B4%E9%82%8A%E6%94%94%E9%8C%AF%E8%AA%A4%E8%A8%8A%E6%81%AF",tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:af}]},{type:a,value:e},{type:b,tag:v,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"resources\u002Fviews\u002Fvendor\u002Fvoyager\u002Fdashboard\u002Fsidebar.blade.php"}]},{type:a,value:"\n原寫法"}]},{type:a,value:e},{type:b,tag:D,props:{className:[K]},children:[{type:b,tag:L,props:{className:[M,N]},children:[{type:b,tag:k,props:{},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:"{"}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:J}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:J}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,Q]},children:[{type:a,value:ar}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,i,j]},children:[{type:a,value:"'admin'"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,i,j]},children:[{type:a,value:"'admin_menu'"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:G}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:J}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:J}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:"}"}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:v,props:{},children:[{type:a,value:"改為"}]},{type:a,value:e},{type:b,tag:D,props:{className:[K]},children:[{type:b,tag:L,props:{className:[M,N]},children:[{type:b,tag:k,props:{},children:[{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:B}]},{type:a,value:"div id"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:H}]},{type:b,tag:c,props:{className:[d,i,I]},children:[{type:a,value:"\"adminmenu\""}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:B}]},{type:a,value:as},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:at}]},{type:a,value:"menu "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:":"}]},{type:a,value:"items"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:H}]},{type:b,tag:c,props:{className:[d,i,I]},children:[{type:a,value:"\"{{ menu('admin', '_json') }}\""}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:B}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:S}]},{type:a,value:as},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:at}]},{type:a,value:ar},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:B}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:S}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:u,props:{src:"articles\u002Frecord-of-upgrading-voyager-version-to-1.2-6.jpg"},children:[{type:a,value:e}]},{type:a,value:e},{type:b,tag:o,props:{id:ag},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#7-%E5%B7%B2%E7%A7%BB%E9%99%A4-searchable",tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:ah}]},{type:a,value:e},{type:b,tag:v,props:{},children:[{type:a,value:T},{type:b,tag:k,props:{},children:[{type:a,value:"$searchable"}]},{type:a,value:U},{type:b,tag:k,props:{},children:[{type:a,value:"$searchNames"}]}]},{type:a,value:e},{type:b,tag:u,props:{src:"articles\u002Frecord-of-upgrading-voyager-version-to-1.2-7.jpg"},children:[{type:a,value:e}]},{type:a,value:e},{type:b,tag:o,props:{id:ai},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#8-sortbyurl-%E5%8F%83%E6%95%B8%E5%BF%85%E5%A1%AB",tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:aj}]},{type:a,value:e},{type:b,tag:v,props:{},children:[{type:a,value:T},{type:b,tag:k,props:{},children:[{type:a,value:"{{ $row-\u003EsortByUrl() }}"}]},{type:a,value:U},{type:b,tag:k,props:{},children:[{type:a,value:"{{ $row-\u003EsortByUrl($row-\u003Efield, 'asc') }}"}]}]},{type:a,value:e},{type:b,tag:u,props:{src:"articles\u002Frecord-of-upgrading-voyager-version-to-1.2-8.jpg"},children:[{type:a,value:e}]},{type:a,value:e},{type:b,tag:o,props:{id:ak},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#9-iscurrentsortfield-%E5%8F%83%E6%95%B8%E5%BF%85%E5%A1%AB",tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:al}]},{type:a,value:e},{type:b,tag:v,props:{},children:[{type:a,value:T},{type:b,tag:k,props:{},children:[{type:a,value:"$row-\u003EisCurrentSortField()"}]},{type:a,value:U},{type:b,tag:k,props:{},children:[{type:a,value:"$row-\u003EisCurrentSortField('')"}]}]},{type:a,value:e},{type:b,tag:u,props:{src:"articles\u002Frecord-of-upgrading-voyager-version-to-1.2-9.jpg"},children:[{type:a,value:e}]}]},dir:"\u002Fcoding",path:"\u002Fcoding\u002Frecord-of-upgrading-voyager-version-to-1.2",extension:".md"}}],fetch:{},mutations:[]}}("text","element","span","token","\n","punctuation","operator"," ","string","single-quoted-string","code",",","=\u003E",2,"h2","a","true",-1,"icon","icon-link","markdown-img","p","\n    ","comment","[","]","\n        ","\u003C","\u003E","div","\n            ","(",")","=","double-quoted-string","!","nuxt-content-highlight","pre","language-php","line-numbers","\n\n","keyword","function","\u002F\u002F ...","\u002F","將 "," 改為 ","2023-03-17T00:00:00.000Z","1-改用-voyager-提供介面替代","1. 改用 voyager 提供介面替代","2-原方法已被改寫不使用","2. 原方法已被改寫，不使用","3-自行複製-voyager-同檔名檔案","3. 自行複製 voyager 同檔名檔案","4-media-page-內容無法顯示","4. Media Page 內容無法顯示","5-套件已自行處理-json_decode","5. 套件已自行處理 json_decode","6-側邊攔錯誤訊息","6. 側邊攔錯誤訊息","7-已移除-searchable","7. 已移除 $searchable","8-sortbyurl-參數必填","8. sortByUrl() 參數必填","9-iscurrentsortfield-參數必填","9. isCurrentSortField() 參數必填",", ","return","'voyager'","'storage'",";","menu","admin","-")));